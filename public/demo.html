<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
    <link rel="stylesheet" href="front.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,1,0" />
    <script src="front.js" defer></script>
  
  
   
</head>
<body class="show-chatbot">

    <button class="chatbot-toggler">
        <span class="material-symbols-rounded">mode_comment</span>
        <span class="material-symbols-outlined">close</span>
      </button>


      <div class="chatbot">

        <header>
          <h2>Chatbot</h2>
          <span class="close-btn material-symbols-outlined">close</span>
        </header>

        <ul class="username">
            <input type="text" id="idd" name="idd"  placeholder="Type your id...">
            <button onclick="submit()">Submit</button><br>
        </ul>


        <ul class="chatbox">
          <li class="chat incoming">
            <span class="material-symbols-outlined">smart_toy</span>
            <p>Hi there <br>How can I help you today?</p>
          </li>
        </ul>


        <div class="chat-input" id="data">
          <textarea id="messageInput" placeholder="Enter a message..." spellcheck="false" required></textarea>
          <span id="send-btn" class="material-symbols-rounded">send</span>
        </div>
      </div>
        

    <script src="/socket.io/socket.io.js"></script>
      <script>
    const socket = io();

    socket.on('connect', () => {
      console.log('Connected to server');
    });
    socket.on("message",(msg)=> {
      
      handleChat(msg, "incoming");
      console.log(msg)
    })


    function submit(){

      const idd= document.getElementById('idd');
          const id= idd.value.trim();

      socket.emit('initialize', id);

    }


</script>
</body>
</html>
